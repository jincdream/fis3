!function(){function t(t){var n,e=$(t).find("h2").map(function(t,e){e=$(e),n=e.text().replace(/[@|#|\.]/g,""),e.attr("data-id",n),e.before(["<i class='anchor' id='",n,"'></i>"].join(""));var a=e.nextUntil("h2","h3").map(function(t,e){return e=$(e),n=e.text().replace(/[@|#|\.]/g,""),e.attr("data-id",n),e.before(["<i class='anchor' id='",n,"'></i>"].join("")),{id:n,name:e.text()}});return{name:e.text(),id:e.attr("data-id"),child:a}});return e}function n(t,n){function e(t,n){var e=$("<ul class='nav'></ul>");return t.each(function(t,a){var i=$(["<li><a href='#",a.id,"'>",a.name,"</a></li>"].join(""));n&&n(a,i),e.append(i)}),e}$(n).append(e(t,function(t,n){0!==t.child.length&&n.append(e(t.child))})).append("<a href='#' class='back'>回到顶部</a>")}function e(){var t=$(window).width()-($(".doc-content").position().left+$(".doc-content").width()+255);$(".toc").css("right",t)}$(document).ready(function(){function a(){$(".doc-content h2, .doc-content h3").each(function(t){var n=$(this),e=0===t?0:n.position().top-60,a=n.nextUntil(n[0].tagName).last().next(),i=0===a.length?$(document).height():n.nextUntil(n[0].tagName).last().next().position().top-60;n.scrollspy({min:e,max:i,onEnter:function(t){$(".toc a[href='#"+$(t).attr("data-id")+"']").parent("li").addClass("active")},onLeave:function(t){$(".toc a[href='#"+$(t).attr("data-id")+"']").parent("li").removeClass("active")}})})}n(t($(".doc-content")),$(".toc")),window.location.hash=window.location.hash,window.respond&&!window.respond.mediaQueriesSupported?setTimeout(a,3e3):setTimeout(a,300),e(),$(window).resize(e)})}();